# java/Uebung4

- [BLUEJ 文档](https://www.bluej.org/tutorial/tutorial-chinese-simpl.pdf)

## Aufgabe1

- 这是一道关于Java程序设计的题目。在指定的BlueJ项目中，有一个名为OneMansMorris的类，它的main()方法显示了一个游戏棋盘，可以使用箭头键移动棋子。棋子只能沿着路径移动，不能穿过绿色区域。
    - 任务1.1要求使用[JavaDoc](https://www.runoob.com/java/java-documentation.html)注释对类、属性、方法和构造函数标记注释，并解释isLegal方法的工作原理。
    - 任务1.2要求使用调试器找出Rules类中的错误，解释如何找到错误，并修复程序。另外，Levenshtein距离是指将一个文本转换为另一个文本所需的最少插入、删除或替换字符的数量。在这个问题中，从给定的源代码到正确的解决方案的编辑距离是4
        - 在测试程序时，发现了两个错误。首先，无法在指定的位置将内部正方形移到外部。此外，图形可以从上下方向移动到游戏区域中央，即超出了网格边界。
        - 一种适合进行故障排除的方法是将图形移动到其中一个错误位置，将一个断点设置到isLegal的开头，然后按相应方向键。然后可以逐步执行isLegal。通过显示局部变量以及意识到方法退出的返回值，可以理解发生了什么。将图形置于游戏区域中央的上方，然后按上箭头键。此时，方法中的dirX为0，dirY为-1。可以通过单步执行代码来完成，直到到达最后一行。但是，在最后一行中，可以发现如果outerLevel应该是两个常量fromLevel和toLevel中较大的那个数字，则其实不可能从代码中离开该方法。但实际上，该常量为1，这使得最终的比较结果为false，尽管在这个位置上应该返回true，因为移动应该是合法的。方法maxAbs按其名称计算两个绝对值的最大值。因此，它应该可以用于确定两个正数中较大的值。但是，通过查看实现代码，可以发现还从两个数字中减去了游戏区域中心的坐标。因此，max(abs(fromLevel - centerX), abs(toLevel - centerY))变成了max(abs(1 - 2), abs(2 - 2)) = max(abs(-1), abs(0)) = max(1, 0) = 1。实际上，应该使用max(fromLevel，toLevel)，这将是2。这在1.1任务中的列表中的第74行已经进行了修正。
            
            进行另一个测试后，现在可以从上下方向在正方形之间进行切换，并且图形也不再可以移动到中心。但是，仍然无法在左右方向上进行切换。因此，将使用上述方法，这次将图形置于左上角的分岔口，并尝试从内部正方形切换到外部。这时发现到达了倒数第二个return语句。更仔细地检查了上面的条件后，发现在右侧部分将游戏对象的x坐标与中心的y坐标进行了比较，这肯定是一个错误，导致整个表达式变为真。如果在这里使用object.getY()进行比较，则不会到达此return。这个错误在1.1任务中的列表中的第67行也已经进行了修正。
            
    

## Aufgabe2

题目要求使用简洁的方式表示一些布尔表达式和代码段的结果。

a) 如何用最短的方式表示 a == false？
根据第6讲第11页中的真值表，可以表示为 !a。

b) 为什么在布尔表达式中比较 == true 是多余的？
根据第6讲第11页中的比较运算符的真值表，可以得知与 true 进行比较的结果与比较的值本身相同，因此这种比较是多余的。

c) 如何用最短的方式表示 !(a > b)？
a > b 的反命题是 a ≤ b。因此，在 Java 中的最短表示为 a <= b。

d) 如何用最短的方式表示以下代码段的结果？
1 if (a) {
2 }
3 else {
4 b();
5 }
b() 将仅在 a 为假时执行。因此，可以直接写成：
1 if (!a) {
2 b();
3 }

e) 在执行以下代码后，a.getRotation() 会返回什么？为什么？
1 final GameObject a = new GameObject (0, 0, 0, " player ");
2 a. setRotation (1) ;
3 final GameObject b = a;
4 b. setRotation (2) ;
a.getRotation() 将返回 2，因为 a 和 b 指向同一个对象，b.setRotation(2) 将该对象的旋转角度设置为 2。

f) 代码行 3–5 具体做什么？
这三行代码将交换变量 a 和 b 的值。第三行将 a 设置为两个数字的和，因为此时 b 的值还未改变，可以通过计算 a - b 得到 a 的原始值。第四行将 b 设置为 a 的原始值。最后，第五行将 a 设置为 b 的原始值，完成了变量 a 和 b 的交换。
